# Output Directory

This directory contains the analysis and insights output files generated by the Kubernetes Utilization Analysis system.

## Files

- **analysis_output.json** - Phase 1 analysis output (deterministic facts from Prometheus)
  - Generated by: `python orchestrator.py`
  - Contains: Deployment analysis, HPA analysis, node analysis, cross-layer observations
  - Always authoritative and fact-based

- **insights_output.json** - Phase 2 insights output (LLM-generated analysis)
  - Generated by: `PHASE2_ENABLED=true python orchestrator.py`
  - Contains: Cluster summary, patterns, warnings, action candidates, prioritization, limitations
  - Advisory only - for human review

## Configuration

Output paths can be customized via environment variables:

```bash
export ANALYSIS_OUTPUT_PATH="custom/path/analysis.json"
export INSIGHTS_OUTPUT_PATH="custom/path/insights.json"
python orchestrator.py
```

Default paths are configured in `config.py`

## Format

Both files are JSON with the following structure:

### analysis_output.json
```json
{
  "generated_at": "2026-01-01T23:04:00+00:00",
  "cluster_summary": {...},
  "analysis_scope": {...},
  "deployment_analysis": [...],
  "hpa_analysis": [...],
  "node_analysis": {...},
  "cross_layer_observations": {...}
}
```

### insights_output.json
```json
{
  "generated_at": "2026-01-01T23:04:00+00:00",
  "phase2_enabled": true,
  "analysis_reference": "...",
  "insights": {
    "cluster_summary": "...",
    "patterns": [...],
    "warnings": [...],
    "action_candidates": [...],
    "prioritization": "...",
    "limitations": [...]
  }
}
```

## Atomic Writes

Both files are written atomically using temporary files to ensure consistency even if the process is interrupted.
